# 创建实例

本篇文档将为您提供注册并创建实例的详细步骤。

## 步骤一：登录账号，开始创建

1. 登录您的 MO Cloud 账号，进入实例管理平台。

    如果您还没有 MO Cloud 账号，您可以点击[注册登录](../Get-Started/quickstart.md)开始注册，或者参照[快速体验 MatrixOne Cloud](../Get-Started/quickstart.md)的注册指南。

2. 在菜单栏中点击 **Instances** 进入实例列表页面，然后点击 **+Create Instance**。

## 步骤二：选择公有云服务商及地区

MatrixOne Cloud 支持在以下公有云地区创建实例。为了获得更佳的性能和体验，请选择距离您现有云服务地区最近的区域。

### AWS 地区

| 地理区域         | 地区名             | 地点       |
| ----------------- | ------------------ | ---------- |
| 亚太地区 / Asia Pacific | ap-southeast-1   | 新加坡     |

### 阿里云地区

| 地理区域     | 地区名     | 地点     |
| ------------- | ---------- | -------- |
| 亚太-中国     | 华东1     | 杭州     |

## 步骤三：配置实例容量

### 免费实例

选择 **Free Trial**，云平台会为该实例每月提供免费的计算和存储资源。但当计算或存储资源用完时，实例的部分功能将受到限制，如下所示：

|限制使用的功能|计算资源用完|	存储资源用完|
|---|---|---|
|数据库读操作|否|是|
|数据库写操作|否|否|
|查看实例详情|是|是|
|查看实例监控|是|是|

请注意，免费实例的数据库性能稳定性无法保证，因此建议您仅用于体验或学习。对于生产应用场景，请选择 **生产实例**。

如果您的计算资源使用完后，MO Cloud 会在您创建实例日期的一个月后重新赠送；存储资源达到增上上限后，您可以通过删除数据的方式重新获得数据库的写操作。

### 生产实例

选择 **Production**，MO Cloud 会为该实例配置独立的、可根据业务需求自动伸缩的计算资源，从而实现近乎极致的性能。此外，您可以配置以下选项：

- **Spend limit** ：

    + 这一开关可以帮助您更好地管理实例的花费。当实例的计算和存储花费达到您设置的金额限制时，云平台会采取措施限制实例的高性能服务，以控制花费。
    + 当开启 Spend limit 功能时，您需要至少配置月消费限制 - Monthly limit，您也可以同时打开日消费限制 - Daily limit，任意限制到达后，都会触发 spend Limit 行为。

- **Service Keep On** ：

    + 一旦 Spend limit 被触发，实例的访问将默认停止。但在某些情况下，您可能希望保持服务的可用性。Service Keep On 功能可以以低性能服务方式继续保持服务，并控制花费。
    + 您可以随时修改 Spend limit 功能的设置，包括开关和限制值，以更改实例的花费策略。这些修改将立即生效。

### 计算资源 - Compute Unit (CU)

Compute Unit (CU) 是 MatrixOne Cloud Serverless 实例的计算资源开销的基本单位，每个 SQL 查询都会消耗一定数量的 CU，其中包括 CPU、内存和 I/O。不同 SQL 查询的 CU 消耗不同，以下是一些示例：

- 查询 10K 行，每行 4 字节：1 CU
- 查询 25K 行，每行 4 字节：3 CU
- 插入 2K 行，每行 4 字节：0.01 CU
- 插入 10K 行，每行 4 字节：0.02 CU
- 更新 1 行，每行 40 字节：1 CU

我们测试了 TPC-H 1GB 数据集的查询 CU 消耗，总计为 1683 CUs。

![](https://community-shared-data-1308875761.cos.ap-beijing.myqcloud.com/artwork/mocdocs/instance-mgmt/tpch-cu.png)

有关 CU 的定价信息，请参考 CU 价格。

## 步骤四：设置访问控制

### 管理员密码

在创建 MO Cloud 实例时，您需要设置实例的最高权限管理员（admin）的密码。为了保障数据库的安全性，密码需符合以下规则：

- 至少包含 8 个字符
- 必须包含至少一个数字
- 必须包含至少一个大写字母
- 必须包含至少一个小写字母

### 网络安全策略

您可以设置公网访问实例的 IP 白名单，以防止恶意 IP 地址访问您的系统。更多详情请参考 IP 白名单章节。

## 步骤五：命名并创建实例

1. 系统将自动为实例分配一个名称，您也可以修改名称。
2. 在右侧的总览中，您可以查看上述步骤中的实例规划。确认无误后，点击 **Create Serverless Instance**。
3. 实例将在点击创建后的几秒内完成创建。您可以通过监视实例卡片中的实例状态来确认是否创建成功。创建中状态为 **Creating**，创建完成状态为 **Active**。

## 步骤六：获取 MO 实例的连接命令

在 M0 Cloud 实例管理平台的实例列表中，找到需要访问的 MatrixOne 实例，依次点击 **Connect > Connect with 3rd tool**。

此时页面右侧弹出连接实例的命令窗口，SQL Client 下方选择客户端，复制下方的命令即可。

希望这些步骤有助于您成功创建 MatrixOne 实例！如果您需要更多帮助，请继续查看我们的文档或联系支持团队。
